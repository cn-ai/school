/***2018-10-22 17:29:14***//*
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.1 Copyright (C) Paul Johnston 1999 - 2002.
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 */

function Base64(){_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this.encode=function(e){var t="",n,r,i,s,o,u,a,f=0;e=_utf8_encode(e);while(f<e.length){n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=e.charCodeAt(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;isNaN(r)?u=a=64:isNaN(i)&&(a=64);t=t+_keyStr.charAt(s)+_keyStr.charAt(o)+_keyStr.charAt(u)+_keyStr.charAt(a)}return t};this.decode=function(e){var t="",n,r,i,s,o,u,a,f=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(f<e.length){s=_keyStr.indexOf(e.charAt(f++));o=_keyStr.indexOf(e.charAt(f++));u=_keyStr.indexOf(e.charAt(f++));a=_keyStr.indexOf(e.charAt(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t+=String.fromCharCode(n);u!=64&&(t+=String.fromCharCode(r));a!=64&&(t+=String.fromCharCode(i))}t=_utf8_decode(t);return t};_utf8_encode=function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128)t+=String.fromCharCode(r);else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}return t};_utf8_decode=function(e){var t="",n=0,r=c1=c2=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else if(r>191&&r<224){c2=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|c2&63);n+=2}else{c2=e.charCodeAt(n+1);c3=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63);n+=3}}return t}}function hex_md5(e){return binl2hex(core_md5(str2binl(e),e.length*chrsz))}function b64_md5(e){return binl2b64(core_md5(str2binl(e),e.length*chrsz))}function str_md5(e){return binl2str(core_md5(str2binl(e),e.length*chrsz))}function hex_hmac_md5(e,t){return binl2hex(core_hmac_md5(e,t))}function b64_hmac_md5(e,t){return binl2b64(core_hmac_md5(e,t))}function str_hmac_md5(e,t){return binl2str(core_hmac_md5(e,t))}function md5_vm_test(){return hex_md5("abc")=="900150983cd24fb0d6963f7d28e17f72"}function core_md5(e,t){e[t>>5]|=128<<t%32;e[(t+64>>>9<<4)+14]=t;var n=1732584193,r=-271733879,i=-1732584194,s=271733878;for(var o=0;o<e.length;o+=16){var u=n,a=r,f=i,l=s;n=md5_ff(n,r,i,s,e[o+0],7,-680876936);s=md5_ff(s,n,r,i,e[o+1],12,-389564586);i=md5_ff(i,s,n,r,e[o+2],17,606105819);r=md5_ff(r,i,s,n,e[o+3],22,-1044525330);n=md5_ff(n,r,i,s,e[o+4],7,-176418897);s=md5_ff(s,n,r,i,e[o+5],12,1200080426);i=md5_ff(i,s,n,r,e[o+6],17,-1473231341);r=md5_ff(r,i,s,n,e[o+7],22,-45705983);n=md5_ff(n,r,i,s,e[o+8],7,1770035416);s=md5_ff(s,n,r,i,e[o+9],12,-1958414417);i=md5_ff(i,s,n,r,e[o+10],17,-42063);r=md5_ff(r,i,s,n,e[o+11],22,-1990404162);n=md5_ff(n,r,i,s,e[o+12],7,1804603682);s=md5_ff(s,n,r,i,e[o+13],12,-40341101);i=md5_ff(i,s,n,r,e[o+14],17,-1502002290);r=md5_ff(r,i,s,n,e[o+15],22,1236535329);n=md5_gg(n,r,i,s,e[o+1],5,-165796510);s=md5_gg(s,n,r,i,e[o+6],9,-1069501632);i=md5_gg(i,s,n,r,e[o+11],14,643717713);r=md5_gg(r,i,s,n,e[o+0],20,-373897302);n=md5_gg(n,r,i,s,e[o+5],5,-701558691);s=md5_gg(s,n,r,i,e[o+10],9,38016083);i=md5_gg(i,s,n,r,e[o+15],14,-660478335);r=md5_gg(r,i,s,n,e[o+4],20,-405537848);n=md5_gg(n,r,i,s,e[o+9],5,568446438);s=md5_gg(s,n,r,i,e[o+14],9,-1019803690);i=md5_gg(i,s,n,r,e[o+3],14,-187363961);r=md5_gg(r,i,s,n,e[o+8],20,1163531501);n=md5_gg(n,r,i,s,e[o+13],5,-1444681467);s=md5_gg(s,n,r,i,e[o+2],9,-51403784);i=md5_gg(i,s,n,r,e[o+7],14,1735328473);r=md5_gg(r,i,s,n,e[o+12],20,-1926607734);n=md5_hh(n,r,i,s,e[o+5],4,-378558);s=md5_hh(s,n,r,i,e[o+8],11,-2022574463);i=md5_hh(i,s,n,r,e[o+11],16,1839030562);r=md5_hh(r,i,s,n,e[o+14],23,-35309556);n=md5_hh(n,r,i,s,e[o+1],4,-1530992060);s=md5_hh(s,n,r,i,e[o+4],11,1272893353);i=md5_hh(i,s,n,r,e[o+7],16,-155497632);r=md5_hh(r,i,s,n,e[o+10],23,-1094730640);n=md5_hh(n,r,i,s,e[o+13],4,681279174);s=md5_hh(s,n,r,i,e[o+0],11,-358537222);i=md5_hh(i,s,n,r,e[o+3],16,-722521979);r=md5_hh(r,i,s,n,e[o+6],23,76029189);n=md5_hh(n,r,i,s,e[o+9],4,-640364487);s=md5_hh(s,n,r,i,e[o+12],11,-421815835);i=md5_hh(i,s,n,r,e[o+15],16,530742520);r=md5_hh(r,i,s,n,e[o+2],23,-995338651);n=md5_ii(n,r,i,s,e[o+0],6,-198630844);s=md5_ii(s,n,r,i,e[o+7],10,1126891415);i=md5_ii(i,s,n,r,e[o+14],15,-1416354905);r=md5_ii(r,i,s,n,e[o+5],21,-57434055);n=md5_ii(n,r,i,s,e[o+12],6,1700485571);s=md5_ii(s,n,r,i,e[o+3],10,-1894986606);i=md5_ii(i,s,n,r,e[o+10],15,-1051523);r=md5_ii(r,i,s,n,e[o+1],21,-2054922799);n=md5_ii(n,r,i,s,e[o+8],6,1873313359);s=md5_ii(s,n,r,i,e[o+15],10,-30611744);i=md5_ii(i,s,n,r,e[o+6],15,-1560198380);r=md5_ii(r,i,s,n,e[o+13],21,1309151649);n=md5_ii(n,r,i,s,e[o+4],6,-145523070);s=md5_ii(s,n,r,i,e[o+11],10,-1120210379);i=md5_ii(i,s,n,r,e[o+2],15,718787259);r=md5_ii(r,i,s,n,e[o+9],21,-343485551);n=safe_add(n,u);r=safe_add(r,a);i=safe_add(i,f);s=safe_add(s,l)}return Array(n,r,i,s)}function md5_cmn(e,t,n,r,i,s){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(r,s)),i),n)}function md5_ff(e,t,n,r,i,s,o){return md5_cmn(t&n|~t&r,e,t,i,s,o)}function md5_gg(e,t,n,r,i,s,o){return md5_cmn(t&r|n&~r,e,t,i,s,o)}function md5_hh(e,t,n,r,i,s,o){return md5_cmn(t^n^r,e,t,i,s,o)}function md5_ii(e,t,n,r,i,s,o){return md5_cmn(n^(t|~r),e,t,i,s,o)}function core_hmac_md5(e,t){var n=str2binl(e);n.length>16&&(n=core_md5(n,e.length*chrsz));var r=Array(16),i=Array(16);for(var s=0;s<16;s++){r[s]=n[s]^909522486;i[s]=n[s]^1549556828}var o=core_md5(r.concat(str2binl(t)),512+t.length*chrsz);return core_md5(i.concat(o),640)}function safe_add(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function bit_rol(e,t){return e<<t|e>>>32-t}function str2binl(e){var t=Array(),n=(1<<chrsz)-1;for(var r=0;r<e.length*chrsz;r+=chrsz)t[r>>5]|=(e.charCodeAt(r/chrsz)&n)<<r%32;return t}function binl2str(e){var t="",n=(1<<chrsz)-1;for(var r=0;r<e.length*32;r+=chrsz)t+=String.fromCharCode(e[r>>5]>>>r%32&n);return t}function binl2hex(e){var t=hexcase?"0123456789ABCDEF":"0123456789abcdef",n="";for(var r=0;r<e.length*4;r++)n+=t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15);return n}function binl2b64(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="";for(var r=0;r<e.length*4;r+=3){var i=(e[r>>2]>>8*(r%4)&255)<<16|(e[r+1>>2]>>8*((r+1)%4)&255)<<8|e[r+2>>2]>>8*((r+2)%4)&255;for(var s=0;s<4;s++)r*8+s*6>e.length*32?n+=b64pad:n+=t.charAt(i>>6*(3-s)&63)}return n}var hexcase=0,b64pad="",chrsz=8;(function(e,t){function m(e){var t=Array.prototype.slice.call(arguments,1);for(var n=0,r=e.length;n<r;n++)e[n].apply(window,t)}function g(e){var t=decodeURIComponent(i.getCookie("M_TICKET")),n=decodeURIComponent(i.getCookie("M_KEY")),r=i.decodeMethod(f,t),s=i.decodeMethod(f,n);if(i.compareRe([r,s]))e&&e(!0,decodeURIComponent(i.getCookie("M_INFO")));else{var o=i.getCookie("M_ITSOURCE");o&&o==hex_md5("weibo")?i.loadScript("http://login.sina.com.cn/sso/logout.php",function(t){t&&i.getType(t)==="object"&&t.retcode==0&&y(function(){e&&e(!1)})},!0):y(function(){e&&e(!1)})}}function y(e){i.loadScript("//my.leju.com/web/sso/ssoLogout?key="+c,function(t){if(t.status){i.multiCookie(u,t,!1,s);for(var n in p)p.hasOwnProperty(n)&&s==n&&i.loadScript(p[n],function(e){},!0);e&&e(null)}else e&&e(t.msg)},!0)}var n=/^\[object (\S+)\]$/,r=Object.prototype.toString,i={getType:function(e){var t=typeof e;return t!=="object"?t:r.call(e).replace(n,"$1").toLowerCase()},isIE9:function(){var e=!1,t=navigator.appName,n=navigator.appVersion,r=n.split(";"),i=r[1]?r[1].replace(/[ ]/g,""):"";t=="Microsoft Internet Explorer"&&(i=="MSIE6.0"||i=="MSIE7.0"||i=="MSIE8.0"||i=="MSIE9.0")&&(e=!0);return e},loadScript:function(e,t,n){var r=document.createElement("script");r.type="text/javascript";if(n&&!/[&?]callback=/.test(e)&&typeof t=="function"){var i="sso_success"+ +(new Date)+Math.round(Math.random()*1e3);window[i]=t;t=null;e+=/\?/.test(e)?"&":"?";e+="callback="+i}r.readyState?r.onreadystatechange=function(){if(r.readyState=="loaded"||r.readyState=="complete"){r.onreadystatechange=null;t&&t();r.parentNode.removeChild(r)}}:r.onload=function(){r.onload=null;t&&t();r.parentNode.removeChild(r)};r.src=e;document.getElementsByTagName("head")[0].appendChild(r)},mix:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},setCookie:function(e,t,n,r){if(n){var i=new Date;i.setTime(i.getTime()+n*24*60*60*1e3);var s="; expires="+i.toGMTString()}else var s="";var o=e+"="+t+s+"; path=/"+(r?"; domain="+r:"");document.cookie=o},getCookie:function(e){var t=document.cookie.match(new RegExp("\\b"+e+"=([^;]+)"));return t?t[1]:""},secretMethod:function(e,t,n){return e.encode(t.substr(0,8)+n+t.substr(10,4))},decodeMethod:function(e,t){var n=e.decode(t).length;return e.decode(e.decode(t).substr(8,n-12))},addHandler:function(){return window.addEventListener?function(e,t,n){e.addEventListener(t,function(t){var r=t||window.event;n.call(e,r)},!1)}:function(e,t,n){e.attachEvent("on"+t,function(t){var r=t||window.event;n.call(e,r)})}}(),hasClass:function(e,t){return(new RegExp("(\\s|^)"+e+"(\\s|$)")).test(t.className)},versions:function(){var e=navigator.userAgent,t=navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")==-1,mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:e.indexOf("Safari")==-1}},compareRe:function(e){e[0]=e[0].replace(/(.+?)_([^_]+)(_*)(.+)/g,"$1_$2");var t=[],n=[],r={0:[],1:[]};for(var i=0,s;s=e[i++];)s.replace(/(.+)_(.+)/,function(){r[i-1].push(arguments[1],arguments[2])});var o=parseInt(+(new Date)/1e3),u=o-(r[0][1]-0);return t[0]===n[0]&&u<=r[1][1]-0?!0:!1},multiCookie:function(e,t,n,r){for(var i=0,s=e.length;i<s;i++)n?t[e[i]]&&this.setCookie(e[i],t[e[i]],365,r):this.setCookie(e[i]," ",-1,r)}},s=window.location.host.replace(/(\w+\.)(\.com)?(\.cn)?/,""),o=window.location.protocol+"//"+window.location.hostname,u=["M_TICKET","M_KEY","M_INFO","M_AUTH","M_USER","M_ITSOURCE"],a=hex_md5(o),f=new Base64,l=f.encode(o),c=i.secretMethod(f,a,l),h="click",p={"7gz.com":"http://www.7gz.com/Sso/logout"};if(i.versions().mobile||i.versions().ios||i.versions().android||i.versions().iPhone||i.versions().iPad)h="touchstart";var d={},v;typeof v!="function"&&(v=function(){function e(){}return i.mix(e,d)});d.isLogin=function(){var e=[];return function(t){e.push(t);e.length<=1&&(i.getCookie("M_INFO")&&!i.isIE9()?g(function(t,n){m(e,t,n);e=[]}):i.loadScript("//my.leju.com/web/sso/readInfo?key="+c,function(t){if(t.code===0){i.multiCookie(u,t,!0,s);m(e,!0,decodeURIComponent(i.getCookie("M_INFO")));e=[]}else if(t.code===2){i.multiCookie(u,t,!1,s);m(e,!1);e=[]}},!0))}}();d.isOut=function(e){var t=i.getCookie("M_ITSOURCE");t&&t==hex_md5("weibo")?i.loadScript("http://login.sina.com.cn/sso/logout.php",function(t){t&&i.getType(t)==="object"&&t.retcode==0&&y(function(t){e&&e(t)})},!0):y(function(t){e&&e(t)})};d.update=function(e){i.loadScript("http://my.leju.com/web/sso/readInfo?key="+c,function(t){if(t.code===0){i.multiCookie(u,t,!0,s);e&&e(!0,i.getCookie("M_INFO"))}else{i.multiCookie(u,t,!1,s);e&&e(!1)}},!0)};e.lj_sso=v})(window,document);(function(){function loginPriv(opt){this.infoWrap=opt.infoWrap;this.username=opt.username;this.logoutBtn=opt.logoutBtn;this.loginWrap=opt.loginWrap;var that=this,logined=lj_sso();logined.isLogin(function(status,data){if(status===!0){data=eval("("+decodeURIComponent(data)+")");var oUsername=heardPrivate.$(that.username);oUsername.innerHTML=data.username;oUsername.setAttribute("uid",data.uid);data.type!="0"?oUsername.href="http://mvp.leju.com/user/user/index":oUsername.href="http://my.leju.com/Settings/Myhome/index";PubSub.create("logined").trigger("loginSucc",data);heardPrivate.addEvent(that.logoutBtn,"click",function(e){var t="正在退出...";if(heardPrivate.$(that.logoutBtn).innerHTML!=t){heardPrivate.$(that.logoutBtn).innerHTML=t;logined.isOut(function(e){if(e)console.log("退出失败");else{heardPrivate.$(that.logoutBtn).innerHTML="退出";heardPrivate.addClassName(that.infoWrap,"none");heardPrivate.removeClassName(that.loginWrap,"none");heardPrivate.$(that.username).removeAttribute("uid")}})}heardPrivate.preventDefault(e)});heardPrivate.removeClassName(that.infoWrap,"none");heardPrivate.addClassName(that.loginWrap,"none");togglePriv({dom:"userinfo",popDom:"userinfoPop",classN:"active",eve:"mouseover",arrow:{id:"lj_loginArrow",arrowUpclass:"arrow_up",arrowDoclass:"arrow_down"}})}});window.loginAct=!0}function doArrow(e,t){var n=t;if(!document.getElementById(n.id))return;if(e=="up"){heardPrivate.hasClassName(n.id,n.arrowUpclass)||heardPrivate.addClassName(n.id,n.arrowUpclass);heardPrivate.removeClassName(n.id,n.arrowDoclass)}else if(e=="down"){heardPrivate.hasClassName(n.id,n.arrowDoclass)||heardPrivate.addClassName(n.id,n.arrowDoclass);heardPrivate.removeClassName(n.id,n.arrowUpclass)}else{heardPrivate.hasClassName(n.id,n.arrowUpclass)||heardPrivate.addClassName(n.id,n.arrowUpclass);heardPrivate.removeClassName(n.id,n.arrowDoclass)}}function togglePriv(e){var t={dom:e.dom,popDom:e.popDom,classN:e.classN,eve:e.eve||"mouseover",arrow:e.arrow},n=null,r=document.getElementById(t.dom),i=document.getElementById(t.popDom),s=t.classN,o=t.eve,u,a;heardPrivate.addEvent(r,o,function(e){clearTimeout(n);u=i&&i.getElementsByTagName("img")||[];for(var o=0;o<u.length;o++){a=u[o].getAttribute("ksrc");if(a!==null){u[o].setAttribute("src",a);u[o].removeAttribute("ksrc")}}heardPrivate.removeClassName(i,"none");s&&(heardPrivate.hasClassName(r,s)||heardPrivate.addClassName(r,s));doArrow("up",t.arrow);heardPrivate.preventDefault(e)});heardPrivate.addEvent(r,"mouseout",function(){clearTimeout(n);n=setTimeout(function(){heardPrivate.addClassName(i,"none");doArrow("down",t.arrow);s&&heardPrivate.removeClassName(r,s)},500)});heardPrivate.addEvent(i,"mouseover",function(){clearTimeout(n);doArrow("up",t.arrow);heardPrivate.removeClassName(i,"none")});heardPrivate.addEvent(i,"mouseout",function(){clearTimeout(n);n=setTimeout(function(){heardPrivate.addClassName(i,"none");doArrow("down",t.arrow);heardPrivate.hasClassName(r,s)&&heardPrivate.removeClassName(r,s)},500)})}window.PubSub=function(){var e=this,t,n="default";t=function(){var e,t,r,i=Array.prototype.slice,s=Array.prototype.shift,o=Array.prototype.unshift,u={},a,f,l=function(e,t){var n;for(var r=0,i=e.length;r<i;r++){var s=e[r];n=t.call(s,r,s)}return n};e=function(e,t,n){n[e]||(n[e]=[]);n[e].push(t)};r=function(e,t,n){if(t[e]&&n)for(var r=t[e].length;r>=0;r--)t[e][r]===n?t[e].splice(r,1):t[e]=[]};t=function(){var e=s.call(arguments),t=s.call(arguments),n=arguments,r=this,i,o=e[t];if(!o||!o.length)return;return l(o,function(){return this.apply(r,n)})};a=function(i){i=i||n;var s={},a=[],f={listen:function(t,n,r){e(t,n,s);if(a===null)return;r==="last"?a.length&&a.pop()():l(a,function(){this()});a=null},one:function(e,t,n){r(e,s);this.listen(e,t,n)},remove:function(e,t){r(e,s,t)},trigger:function(){var e,n,r=this;o.call(arguments,s);n=arguments;e=function(){return t.apply(r,n)};return a?a.push(e):e()}};return i?u[i]?u[i]:u[i]=f:f};return{create:a,one:function(e,t,n){var r=this.create();r.one(e,t,n)},remove:function(e,t){var n=this.create();n.remove(e,t)},listen:function(e,t,n){var r=this.create();r.listen(e,t,n)},trigger:function(){var e=this.create();e.trigger.apply(this,arguments)}}}();return t}();var cookie=function(){var e={};e.get=function(e){e=e.replace(/([\.\[\]\$])/g,"\\$1");var t=new RegExp(e+"=([^;]*)?;","i"),n=document.cookie+";",r=n.match(t);return r?unescape(r[1])||"":""};e.set=function(e,t,n,r,i,s){var o=[];o.push(e+"="+escape(t));if(n){var u=new Date,a=u.getTime()+n*36e5;u.setTime(a);o.push("expires="+u.toGMTString())}r&&o.push("path="+r);i&&o.push("domain="+i);s&&o.push(s);document.cookie=o.join(";")};e["delete"]=function(e){document.cookie=e+"=;expires=Fri, 31 Dec 1999 23:59:59 GMT;"};return e}(),heardPrivate={$:function(){var e=new Array;for(var t=0;t<arguments.length;t++){var n=arguments[t];typeof n=="string"&&(n=document.getElementById(n));if(arguments.length==1)return n;e.push(n)}return e},getClassNames:function(e){return(e=heardPrivate.$(e))?e.className.replace(/\s+/," ").split(" "):!1},addEvent:function(e,t,n){if(!(e=heardPrivate.$(e)))return!1;if(e.addEventListener){e.addEventListener(t,n,!1);return!0}if(e.attachEvent){e["e"+t+n]=n;e[t+n]=function(){e["e"+t+n](window.event)};e.attachEvent("on"+t,e[t+n]);return!0}return!1},hasClassName:function(e,t){if(!(e=heardPrivate.$(e)))return!1;var n=heardPrivate.getClassNames(e);for(var r=0;r<n.length;r++)if(n[r]===t)return!0;return!1},addClassName:function(e,t){if(!(e=heardPrivate.$(e)))return!1;e.className+=(e.className?" ":"")+t;return!0},removeClassName:function(e,t){if(!(e=heardPrivate.$(e)))return!1;var n=heardPrivate.getClassNames(e),r=n.length;for(var i=r-1;i>=0;i--)n[i]===t&&delete n[i];e.className=n.join(" ");return r==n.length?!1:!0},preventDefault:function(e){e=e||window.event;e.preventDefault?e.preventDefault():e.returnValue=!1},loadScript:function(e,t,n){var r=document.createElement("script");r.type="text/javascript";if(n&&!/[&?]callback=/.test(e)&&typeof t=="function"){var i="sso_success"+ +(new Date)+Math.round(Math.random()*1e3);window[i]=t;t=null;e+=/\?/.test(e)?"&":"?";e+="callback="+i}r.readyState?r.onreadystatechange=function(){if(r.readyState=="loaded"||r.readyState=="complete"){r.onreadystatechange=null;t&&t();r.parentNode.removeChild(r)}}:r.onload=function(){r.onload=null;t&&t();r.parentNode.removeChild(r)};r.src=e;document.getElementsByTagName("head")[0].appendChild(r)}};loginPriv({infoWrap:"userinfo",username:"username",logoutBtn:"userlogout",loginWrap:"userlogin"});togglePriv({dom:"appBlock",popDom:"appBlockPop",classN:"active",eve:"mouseover",arrow:{id:"lj_HeaderArrow",arrowUpclass:"arrow_up",arrowDoclass:"arrow_down"}});var API={IPLOOKUP:{url:"http://ip.leju.com/iplookupv2.php",type:"GET"},GETCITYINFO:{url:"http://api.house.leju.com/api/ipposition/getcityinfo",type:"GET"}},getCity=function(){var e="";return function(t){if(e)typeof t=="function"&&t(e);else{var n=location.hash;if(n.match(/#csfp=(.+)/)){var r=n.match(/#csfp=(.+)/)[1];heardPrivate.loadScript(API.GETCITYINFO.url+"?type=city_pub&citys="+r+"&return=jsonp&encode=utf-8",function(n){!n.errcode&&n.data[r]?e=n.data[r]:e={city_cn:"北京",city_en:"bj",city_code:"bj",city_pub:"bj"};typeof t=="function"&&t(e)},1)}else heardPrivate.loadScript(API.IPLOOKUP.url,function(n){n.code==2e3&&n.info&&n.info.city_en?e=n.info:e={city_cn:"北京",city_en:"bj",city_code:"bj",city_pub:"bj"};typeof t=="function"&&t(e)},1)}}}();if(window.location.host==="news.leju.com")getCity(function(e){window.pageInfo&&heardPrivate.$("lj_headHouseLink")&&heardPrivate.$("lj_headHouseLink").setAttribute("href","//house.leju.com/"+e.city_code+"/search/#wt_source=bzdh_up_xf");window.pageInfo&&heardPrivate.$("lj_headHouseLiveLink")&&heardPrivate.$("lj_headHouseLiveLink").setAttribute("href","//live.leju.com/house/"+e.city_en+"/#wt_source=bzdh_up_zhibo")});else{window.pageInfo&&heardPrivate.$("lj_headHouseLink")&&heardPrivate.$("lj_headHouseLink").setAttribute("href","//house.leju.com/"+window.pageInfo.citycode+"/search/#wt_source=bzdh_up_xf");if(window.pageInfo&&heardPrivate.$("lj_headHouseLiveLink")){var liveCity=window.pageInfo.cityen||window.pageInfo.city;heardPrivate.$("lj_headHouseLiveLink").setAttribute("href","//live.leju.com/house/"+liveCity+"/#wt_source=bzdh_up_zhibo")}}})();